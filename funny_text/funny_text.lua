local char_map = {
	-- lowercase
	a = {"ð•’", "ï½", "ð—®", "ð™–"},
	b = {"ð•“", "ï½‚", "ð—¯", "ð™—"},
	c = {"ð•”", "ï½ƒ", "ð—°", "ð™˜"},
	d = {"ð••", "ï½„", "ð—±", "ð™™"},
	e = {"ð•–", "ï½…", "ð—²", "ð™š"},
	f = {"ð•—", "ï½†", "ð—³", "ð™›"},
	g = {"ð•˜", "ï½‡", "ð—´", "ð™œ"},
	h = {"ð•™", "ï½ˆ", "ð—µ", "ð™"},
	i = {"ð•š", "ï½‰", "ð—¶", "ð™ž"},
	j = {"ð•›", "ï½Š", "ð—·", "ð™Ÿ"},
	k = {"ð•œ", "ï½‹", "ð—¸", "ð™ "},
	l = {"ð•", "ï½Œ", "ð—¹", "ð™¡"},
	m = {"ð•ž", "ï½", "ð—º", "ð™¢"},
	n = {"ð•Ÿ", "ï½Ž", "ð—»", "ð™£"},
	o = {"ð• ", "ï½", "ð—¼", "ð™¤"},
	p = {"ð•¡", "ï½", "ð—½", "ð™¥"},
	q = {"ð•¢", "ï½‘", "ð—¾", "ð™¦"},
	r = {"ð•£", "ï½’", "ð—¿", "ð™§"},
	s = {"ð•¤", "ï½“", "ð˜€", "ð™¨"},
	t = {"ð•¥", "ï½”", "ð˜", "ð™©"},
	u = {"ð•¦", "ï½•", "ð˜‚", "ð™ª"},
	v = {"ð•§", "ï½–", "ð˜ƒ", "ð™«"},
	w = {"ð•¨", "ï½—", "ð˜„", "ð™¬"},
	x = {"ð•©", "ï½˜", "ð˜…", "ð™­"},
	y = {"ð•ª", "ï½™", "ð˜†", "ð™®"},
	z = {"ð•«", "ï½š", "ð˜‡", "ð™¯"},
	-- uppercase
	A = {"ð”¸", "ï¼¡", "ð—”", "ð˜¼"},
	B = {"ð”¹", "ï¼¢", "ð—•", "ð˜½"},
	C = {"â„‚", "ï¼£", "ð—–", "ð˜¾"},
	D = {"ð”»", "ï¼¤", "ð——", "ð˜¿"},
	E = {"ð”¼", "ï¼¥", "ð—˜", "ð™€"},
	F = {"ð”½", "ï¼¦", "ð—™", "ð™"},
	G = {"ð”¾", "ï¼§", "ð—š", "ð™‚"},
	H = {"â„", "ï¼¨", "ð—›", "ð™ƒ"},
	I = {"ð•€", "ï¼©", "ð—œ", "ð™„"},
	J = {"ð•", "ï¼ª", "ð—", "ð™…"},
	K = {"ð•‚", "ï¼«", "ð—ž", "ð™†"},
	L = {"ð•ƒ", "ï¼¬", "ð—Ÿ", "ð™‡"},
	M = {"ð•„", "ï¼­", "ð— ", "ð™ˆ"},
	N = {"â„•", "ï¼®", "ð—¡", "ð™‰"},
	O = {"ð•†", "ï¼¯", "ð—¢", "ð™Š"},
	P = {"â„™", "ï¼°", "ð—£", "ð™‹"},
	Q = {"â„š", "ï¼±", "ð—¤", "ð™Œ"},
	R = {"â„", "ï¼²", "ð—¥", "ð™"},
	S = {"ð•Š", "ï¼³", "ð—¦", "ð™Ž"},
	T = {"ð•‹", "ï¼´", "ð—§", "ð™"},
	U = {"ð•Œ", "ï¼µ", "ð—¨", "ð™"},
	V = {"ð•", "ï¼¶", "ð—©", "ð™‘"},
	W = {"ð•Ž", "ï¼·", "ð—ª", "ð™’"},
	X = {"ð•", "ï¼¸", "ð—«", "ð™“"},
	Y = {"ð•", "ï¼¹", "ð—¬", "ð™”"},
	Z = {"â„¤", "ï¼º", "ð—­", "ð™•"},
	-- numbers
	["0"] = {"ðŸ¶", "ï¼", "ðŸ¬", "ðŸ¬"},
	["1"] = {"ðŸ·", "ï¼‘", "ðŸ­", "ðŸ­"},
	["2"] = {"ðŸ¸", "ï¼’", "ðŸ®", "ðŸ®"},
	["3"] = {"ðŸ¹", "ï¼“", "ðŸ¯", "ðŸ¯"},
	["4"] = {"ðŸº", "ï¼”", "ðŸ°", "ðŸ°"},
	["5"] = {"ðŸ»", "ï¼•", "ðŸ±", "ðŸ±"},
	["6"] = {"ðŸ¼", "ï¼–", "ðŸ²", "ðŸ²"},
	["7"] = {"ðŸ½", "ï¼—", "ðŸ³", "ðŸ³"},
	["8"] = {"ðŸ¾", "ï¼˜", "ðŸ´", "ðŸ´"},
	["9"] = {"ðŸ¿", "ï¼™", "ðŸµ", "ðŸµ"}
}

local styles = {
	["-"] = 0,
	["brain damage"] = 1,
	["monospace"] = 2,
	["bold"] = 3,
	["bold italic"] = 4
}

local funny_text_combo = ui.new_combobox("MISC", "Miscellaneous", "Funny Text", "-", "brain damage", "monospace", "bold", "bold italic")

client.set_event_callback("string_cmd", function(e)
	local text = e.text
	local cmd, msg = text:match("^(.-) (.*)$")

	if ((cmd == "say" or cmd == "say_team") and msg ~= nil and msg ~= "") then
		local new_msg = {}
		local selected_style = ui.get(funny_text_combo)
		local style_index = styles[selected_style]
		
		for funny_text in msg:gmatch("[^%s]+") do
			if style_index > 0 then
				funny_text = funny_text:gsub(".", function(c)
					return char_map[c] and char_map[c][style_index] or c
				end)
			end
			table.insert(new_msg, funny_text)
		end

		e.text = cmd .. " " .. table.concat(new_msg, " ")
	end
end)